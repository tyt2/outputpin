<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="n)s2fRfzAhOmo)8aUKSF">buttonPressed</variable><variable id="}3mDRXY~lZk9]#x?b%q,">pinValues</variable></variables><block type="function_definition" id="jBSjWAJ:@q*ucEfgg{c8" x="0" y="0"><mutation name="resetAllPins" functionid="|X:tY]Vg{1.@6:vbOE,@"/><field name="function_name">resetAllPins</field><statement name="STACK"><block type="device_set_digital_pin" id="27]tma6H~C(}-yevRSbT"><field name="name">DigitalPin.P0</field><value name="value"><shadow type="math_number_minmax" id="bgscII|{R9gGG=A6rN8("><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_set_digital_pin" id=")b#V)85UKZ~Y(MZ/!vie"><field name="name">DigitalPin.P1</field><value name="value"><shadow type="math_number_minmax" id="8|hY5Kmt1pgg[^{+n23%"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_set_digital_pin" id="6{8NN`97+5RB89RRjGeY"><field name="name">DigitalPin.P2</field><value name="value"><shadow type="math_number_minmax" id="am!I%j-p[D9lhP*`WKio"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value></block></next></block></next></block></statement></block><block type="pxt-on-start" id="aeysSoMfgh6hY?k-cU{_" x="353" y="48"><statement name="HANDLER"><block type="typescript_statement" id=".TUBAs*u`n3};!X^j^:i" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let buttonPressed = false" numlines="1" declaredvars="buttonPressed"></mutation><next><block type="typescript_statement" id="qk*!z]?if!l([E%]wFv;" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function togglePin (thePin: DigitalPin) { " line1="    // get pin number" line2="    let thePinNumber = thePin - 100" line3="" line4="    // flip stored value of pin" line5="    pinValues[thePinNumber] = Math.abs(pinValues[thePinNumber] - 1)" line6="" line7="    // Write the flipped value to pin" line8="    pins.digitalWritePin(thePin, pinValues[thePinNumber])" line9="" line10="    // Set indicator explicitly instead of toggle" line11="    if (pinValues[thePinNumber] == 0) {" line12="        led.unplot(thePinNumber, 0)" line13="    } else {" line14="        led.plot(thePinNumber, 0)" line15="    }" line16="}" numlines="17"></mutation><next><block type="typescript_statement" id="C3C9e}V*n0]QzM{9(tr_" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function pinFluctuate(thePin: AnalogPin) {" line1="    let start = 50" line2="    let max = 100" line3="    led.unplot(thePin - 100, 4)" line4="    for (let index = 0; index &lt;= max; index++) {" line5="        pins.analogWritePin(thePin, 1023 * Math.constrain((start + index * (100 - start) / max) / 100, 0, 1))" line6="        if (buttonPressed) {" line7="            buttonPressed = false" line8="            break" line9="        }" line10="        basic.pause(30)" line11="    }" line12="    led.plot(thePin - 100, 4)" line13="}" numlines="14"></mutation><next><block type="basic_show_icon" id="+=Sc;e-{Q%}!I-f+fs`e"><field name="i">IconNames.Yes</field><comment pinned="false" h="80" w="160">Initialize</comment><next><block type="variables_set" id="paGQD+%[^+*ikY-AL%:?"><field name="VAR" id="}3mDRXY~lZk9]#x?b%q,">pinValues</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="B?Ca;KHSITS;o?/iI+K_"><mutation items="3"/><value name="ADD0"><shadow type="math_number" id="X]u2}NX^2x{rJ},BClD%"><field name="NUM">0</field></shadow></value><value name="ADD1"><shadow type="math_number" id="r-4MQEP%n7D~,nV,Ce5C"><field name="NUM">0</field></shadow></value><value name="ADD2"><shadow type="math_number" id="TC!B_{ru6o)-jA@{e4Wn"><field name="NUM">0</field></shadow></value></block></value><next><block type="function_call" id="ar?AVW2#2%*h,w5bfrNZ"><mutation name="resetAllPins" functionid="|X:tY]Vg{1.@6:vbOE,@"/><next><block type="device_clear_display" id="lk/g{C?K1s]7{feZH_Dy"/></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="N;XnB|dKiKxJ*1R##`]y" x="976" y="209"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="typescript_statement" id="8o*y_*Q{XTs)FhjEq]?=" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="togglePin(DigitalPin.P0)" numlines="1"></mutation><next><block type="variables_set" id="ZcdQD11sUk*n-|:8@7_q"><field name="VAR" id="n)s2fRfzAhOmo)8aUKSF">buttonPressed</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="F#5SfI7-d:K)uA}wjhgt"><field name="BOOL">TRUE</field></block></value></block></next></block></statement></block><block type="device_button_event" id="l}t]q`?YBJ1fVBre0-|$" x="1316" y="209"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="typescript_statement" id="2FZl;p0|[n#?npLBDX5!" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pinFluctuate(AnalogPin.P0)" numlines="1"></mutation></block></statement></block><block type="device_gesture_event" id="T0f=I4)7bY{@y%]do!J5" x="1656" y="209"><field name="NAME">Gesture.Shake</field><statement name="HANDLER"><block type="typescript_statement" id="{%eex)PR]{NfgW4D0Jc!" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="togglePin(DigitalPin.P1)" numlines="1"></mutation></block></statement></block></xml>